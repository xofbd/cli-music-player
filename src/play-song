#!/bin/bash

set -eu

music_dir=/home/dbf/Music

parse_pattern() {
  echo $(sed 's/ /[\\s_-]/g' <<< "$1")
}

pattern_song="$(parse_pattern "$1")"
pattern_other="$(parse_pattern "${2:-""}")"

fdfind \
  --type f \
  --ignore-case \
  --regex \
  "$pattern_song" \
  "$music_dir" \
  | grep --ignore-case "$pattern_other" \
  | xargs --open-tty -d "\n" mplayer
